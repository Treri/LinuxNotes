信号量：

信号量是为了控制临界资源而产生的一个或一组计数器，在本质上是一个整型变量。

信号量的基本操作：

1.P操作

P意思是通过，进程申请临界资源时发出P操作，在操作系统中，P操作的典型流程为：

检查信号量的取值，如果该值大于0，则分配临界资源，信号值减1，否则代表当前无空余资源，进程阻塞直到指定资源到达为止。

2.V操作

V意思是给予。进程释放临界资源时发出V操作，在操作系统中，V操作的典型流程为：

释放临界资源，信号量的取值加1。

3.Z操作

又称为测试操作。等待当前信号量取值为0，如果成立，进程返回，否则进程阻塞直到条件成立为止。

信号量实现进程间的同步与互斥：

1.同步

体现了进程之间的协同关系，一个进程生成数据，其他进程使用这个数据。比如服务器进程必须在接收到客户端进程的请求后才能开始后台服务工作，信号量指示当前是否有请求报文到达服务器端。

2.互斥

体现了进程之间的竞争关系，当临界资源不足时，进程排队使用这个数据，队列首进程获取到资源后，其他进程进入等待，直到该资源被释放为止。

PV操作都是原子操作。


信号量的创建：

int semget(key_t key,int nsems,int semflg);

信号量控制函数：

int semctl(int semid,int semnum,int cmd,union semun arg);

信号量操作函数：

int semop(int semid,struct sembuf *sops,unsigned nsops);   


